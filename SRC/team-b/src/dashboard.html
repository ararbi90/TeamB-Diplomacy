<html>

<head>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <!-- <script src="../node_modules/jquery/dist/jquery.js"></script> -->


</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Diplomacy</a>

        <div class="collapse navbar-collapse" id="navbarNavDropdown" ;">
            <ul class="navbar-nav ml-auto p-3">

                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Menu
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="#" id="startStats">Game Statistics</a>
                        <a class="dropdown-item" href="#" id="newGame">New Game</a>
                        <a class="dropdown-item" href="#" id="logOut">Log Out</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>


    <!--Greetings and news for the user-->
    <div class="container">
        <div class="row">
            <main>
                <h1>Welcome to the dashboard, <span id="welcome"></span></h1>
                <h2>News</h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer dignissim augue et velit
                    vestibulum consectetur. Quisque ut nisi orci. Nunc ut pellentesque nibh. Donec rutrum lectus et ex
                    ultricies, et efficitur orci finibus. Pellentesque volutpat ligula quis aliquam rhoncus. In rhoncus
                    maximus neque et sodales. Pellentesque hendrerit tincidunt egestas. Ut convallis, lectus ac iaculis
                    vehicula, erat urna tristique nibh, nec mattis sem risus et lectus. Nulla dapibus efficitur odio
                    malesuada tempus. Nam sed venenatis quam. Nam elit ante, fermentum in faucibus vitae, tincidunt sed
                    diam. Mauris sodales ornare enim. Donec et elementum enim, non mollis metus. Duis ipsum eros,
                    congue ut faucibus vel, tempus ac metus.
                </p>


            </main>
        </div>

    </div>


    <div class="container">
        <div class="row">
            <div class="col">
                <h3>Games You've Been Invite To</h3>
                <table class="table">
                    <thead class="thead-light" style="background-color: gray;">
                        <tr>
                            <td>Name</td>
                            <td>Turn Time Limit</td>
                            <td>Game Created</td>
                            <td>Join</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>

                            <td>Game C</td>
                            <td>5 Days</td>
                            <td>03/11/2017</td>
                            <td><button type="button" class="btn btn-primary" id="join1"> Join</button></td>
                        </tr>
                        <tr>

                            <td>Game D</td>
                            <td>5 Days</td>
                            <td>04/05/2019</td>
                            <td><button type="button" class="btn btn-primary" id="join2">Join</button></td>
                        </tr>
                    </tbody>
                </table>



            </div>
            <div class="col">
                <h3>Games In Progress</h3>
                <table class="table">
                    <thead class="thead-light" style="background-color: gray;">
                        <tr>
                            <td>Name</td>
                            <td>Turn Time Limit</td>
                            <td>Game Created</td>
                            <td>Re-Join</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>

                            <td>Game A</td>
                            <td>3 Days</td>
                            <td>02/02/2018</td>
                            <td><button type="button" class="btn btn-primary" id = "join3">Re-Join</button></td>
                        </tr>
                        <tr>

                            <td>Game B</td>
                            <td>1 Day</td>
                            <td>02/03/2018</td>
                            <td><button type="button" class="btn btn-primary" id = "join4">Re-Join</button></td>
                        </tr>
                    </tbody>
                </table>

            </div>

        </div>
    </div>
    </div>

    <script>
        var urlParams = new URLSearchParams(location.search);
        console.log(urlParams.get("username"));
        let username = urlParams.get("username");
        document.getElementById("welcome").innerHTML = username;
        document.getElementById("navbarDropdownMenuLink").innerHTML = username;

        document.getElementById("newGame").addEventListener("click", function () {
            let link = "invite.html?username=" + username;
            window.location.href = link;
        });

        for (var i = 1; i <= 4; i++) {
            var join = "join" + i;
            document.getElementById(join).addEventListener("click", function () {
                let link = "game.html?username=" + username;
                window.location.href = link;
            });

        }

        document.getElementById("logOut").addEventListener("click", function () {
            let link = "index.html";
            window.location.href = link;
        });
    </script>

    <script>
        window.jQuery = window.$ = require('jquery');
    </script>
    <script src="../node_modules/popper.js/dist/umd/popper.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.js"></script>
</body>

</html>